{% extends 'base-admin.html.twig' %}

{% block title %}Commande{% endblock %}

{% block body %}
<div class="container-fluid">
    <h1 class="text-center">Liste des commandes</h1>
    <div class="row">
        <div class="col">
            {{ knp_pagination_render(orders) }}
        </div>
        <div class="col">
        <a class="btn btn-success float-right" role="button" href="{{ path('orders_new') }}">Nouvelle commande</a>
        </div>
    </div>
    <table class="table table-striped table-dark text-center">
        <thead>
            <tr>
                <th scope="col">Id</th>
                <th scope="col">Ref</th>
                <th scope="col">Créé le</th>
                <th scope="col">Status</th>
                <th scope="col">Total</th>
                <th scope="col">Adresse de livraison</th>
                <th scope="col">Moyens de paiement</th>
                <th colspan="2">Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for order in orders %}
            <tr>
                <th scope="row">{{ order.id }}</th>
                <td>{{ order.ref }}</td>
                <td>{{ order.createdAt ? order.createdAt|date('Y-m-d H:i:s') : '' }}</td>
                <td>{{ order.status }}</td>
                <td>{{ order.amount }}</td>
                <td>{{ order.deliveryPoint }}</td>
                <td>{{ order.payment }}</td>
                <td>
                    <a class="btn btn-primary" role="button" href="{{ path('orders_show', {'id': order.id}) }}">Voir</a>
                    <a class="btn btn-secondary" role="button" href="{{ path('orders_edit', {'id': order.id}) }}">Edition</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="8">Pas de commande trouvée</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <div class="py-1">
        {{ knp_pagination_render(orders) }}
    </div>
</div>
{% endblock %}
